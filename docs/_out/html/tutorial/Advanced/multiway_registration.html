

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Multiway registration &mdash; Open3D latest (cf20af6) documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/open3d_logo.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="RGBD integration" href="rgbd_integration.html" />
    <link rel="prev" title="Fast global registration" href="fast_global_registration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Open3D
          

          
          </a>

          
            
            
              <div class="version">
                latest (cf20af6)
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">About Open3D</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../compilation.html">Compiling from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../builddocs.html">Building Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">Contributing to Open3D</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Basic/index.html">Basic</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Advanced</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pointcloud_outlier_removal.html">Point cloud outlier removal</a></li>
<li class="toctree-l2"><a class="reference internal" href="colored_pointcloud_registration.html">Colored point cloud registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="global_registration.html">Global registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="fast_global_registration.html">Fast global registration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Multiway registration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input">Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualize-optimization">Visualize optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-a-combined-point-cloud">Make a combined point cloud</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rgbd_integration.html">RGBD integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="color_map_optimization.html">Color Map Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="customized_visualization.html">Customized visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="non_blocking_visualization.html">Non-blocking visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="interactive_visualization.html">Interactive visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="headless_rendering.html">Headless rendering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ReconstructionSystem/index.html">Reconstruction system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../C++/cplusplus_interface.html">C++ interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/open3d.camera.html">open3d.camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/open3d.color_map.html">open3d.color_map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/open3d.geometry.html">open3d.geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/open3d.io.html">open3d.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/open3d.integration.html">open3d.integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/open3d.odometry.html">open3d.odometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/open3d.registration.html">open3d.registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/open3d.utility.html">open3d.utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/open3d.visualization.html">open3d.visualization</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Open3D</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Advanced</a> &raquo;</li>
        
      <li>Multiway registration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="multiway-registration">
<span id="id1"></span><h1>Multiway registration<a class="headerlink" href="#multiway-registration" title="Permalink to this headline">¶</a></h1>
<p>Multiway registration is the process to align multiple pieces of geometry in a global space. Typically, the input is a set of geometries (e.g., point clouds or RGBD images) <span class="math notranslate nohighlight">\(\{\mathbf{P}_{i}\}\)</span>. The output is a set of rigid transformations <span class="math notranslate nohighlight">\(\{\mathbf{T}_{i}\}\)</span>, so that the transformed point clouds <span class="math notranslate nohighlight">\(\{\mathbf{T}_{i}\mathbf{P}_{i}\}\)</span> are aligned in the global space.</p>
<p>Open3D implements multiway registration via pose graph optimization. The backend implements the technique presented in <a class="reference internal" href="../reference.html#choi2015" id="id2"><span>[Choi2015]</span></a>.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># examples/Python/Advanced/multiway_registration.py</span>

<span class="kn">import</span> <span class="nn">open3d</span> <span class="kn">as</span> <span class="nn">o3d</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">voxel_size</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">max_correspondence_distance_coarse</span> <span class="o">=</span> <span class="n">voxel_size</span> <span class="o">*</span> <span class="mi">15</span>
<span class="n">max_correspondence_distance_fine</span> <span class="o">=</span> <span class="n">voxel_size</span> <span class="o">*</span> <span class="mf">1.5</span>


<span class="k">def</span> <span class="nf">load_point_clouds</span><span class="p">(</span><span class="n">voxel_size</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="n">pcds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">pcd</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_point_cloud</span><span class="p">(</span><span class="s2">&quot;../../TestData/ICP/cloud_bin_</span><span class="si">%d</span><span class="s2">.pcd&quot;</span> <span class="o">%</span> <span class="n">i</span><span class="p">)</span>
        <span class="n">pcd_down</span> <span class="o">=</span> <span class="n">pcd</span><span class="o">.</span><span class="n">voxel_down_sample</span><span class="p">(</span><span class="n">voxel_size</span><span class="o">=</span><span class="n">voxel_size</span><span class="p">)</span>
        <span class="n">pcds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pcd_down</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pcds</span>


<span class="k">def</span> <span class="nf">pairwise_registration</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Apply point-to-plane ICP&quot;</span><span class="p">)</span>
    <span class="n">icp_coarse</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">registration_icp</span><span class="p">(</span>
        <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">max_correspondence_distance_coarse</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
        <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">TransformationEstimationPointToPlane</span><span class="p">())</span>
    <span class="n">icp_fine</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">registration_icp</span><span class="p">(</span>
        <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">max_correspondence_distance_fine</span><span class="p">,</span>
        <span class="n">icp_coarse</span><span class="o">.</span><span class="n">transformation</span><span class="p">,</span>
        <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">TransformationEstimationPointToPlane</span><span class="p">())</span>
    <span class="n">transformation_icp</span> <span class="o">=</span> <span class="n">icp_fine</span><span class="o">.</span><span class="n">transformation</span>
    <span class="n">information_icp</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">get_information_matrix_from_point_clouds</span><span class="p">(</span>
        <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">max_correspondence_distance_fine</span><span class="p">,</span>
        <span class="n">icp_fine</span><span class="o">.</span><span class="n">transformation</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">transformation_icp</span><span class="p">,</span> <span class="n">information_icp</span>


<span class="k">def</span> <span class="nf">full_registration</span><span class="p">(</span><span class="n">pcds</span><span class="p">,</span> <span class="n">max_correspondence_distance_coarse</span><span class="p">,</span>
                      <span class="n">max_correspondence_distance_fine</span><span class="p">):</span>
    <span class="n">pose_graph</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraph</span><span class="p">()</span>
    <span class="n">odometry</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraphNode</span><span class="p">(</span><span class="n">odometry</span><span class="p">))</span>
    <span class="n">n_pcds</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pcds</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">source_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_pcds</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">target_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">source_id</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n_pcds</span><span class="p">):</span>
            <span class="n">transformation_icp</span><span class="p">,</span> <span class="n">information_icp</span> <span class="o">=</span> <span class="n">pairwise_registration</span><span class="p">(</span>
                <span class="n">pcds</span><span class="p">[</span><span class="n">source_id</span><span class="p">],</span> <span class="n">pcds</span><span class="p">[</span><span class="n">target_id</span><span class="p">])</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Build o3d.registration.PoseGraph&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">target_id</span> <span class="o">==</span> <span class="n">source_id</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># odometry case</span>
                <span class="n">odometry</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">transformation_icp</span><span class="p">,</span> <span class="n">odometry</span><span class="p">)</span>
                <span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraphNode</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">odometry</span><span class="p">)))</span>
                <span class="n">pose_graph</span><span class="o">.</span><span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraphEdge</span><span class="p">(</span><span class="n">source_id</span><span class="p">,</span>
                                                   <span class="n">target_id</span><span class="p">,</span>
                                                   <span class="n">transformation_icp</span><span class="p">,</span>
                                                   <span class="n">information_icp</span><span class="p">,</span>
                                                   <span class="n">uncertain</span><span class="o">=</span><span class="bp">False</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># loop closure case</span>
                <span class="n">pose_graph</span><span class="o">.</span><span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraphEdge</span><span class="p">(</span><span class="n">source_id</span><span class="p">,</span>
                                                   <span class="n">target_id</span><span class="p">,</span>
                                                   <span class="n">transformation_icp</span><span class="p">,</span>
                                                   <span class="n">information_icp</span><span class="p">,</span>
                                                   <span class="n">uncertain</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">pose_graph</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>

    <span class="n">o3d</span><span class="o">.</span><span class="n">utility</span><span class="o">.</span><span class="n">set_verbosity_level</span><span class="p">(</span><span class="n">o3d</span><span class="o">.</span><span class="n">utility</span><span class="o">.</span><span class="n">VerbosityLevel</span><span class="o">.</span><span class="n">Debug</span><span class="p">)</span>
    <span class="n">pcds_down</span> <span class="o">=</span> <span class="n">load_point_clouds</span><span class="p">(</span><span class="n">voxel_size</span><span class="p">)</span>
    <span class="n">o3d</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">draw_geometries</span><span class="p">(</span><span class="n">pcds_down</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Full registration ...&quot;</span><span class="p">)</span>
    <span class="n">pose_graph</span> <span class="o">=</span> <span class="n">full_registration</span><span class="p">(</span><span class="n">pcds_down</span><span class="p">,</span>
                                   <span class="n">max_correspondence_distance_coarse</span><span class="p">,</span>
                                   <span class="n">max_correspondence_distance_fine</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Optimizing PoseGraph ...&quot;</span><span class="p">)</span>
    <span class="n">option</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">GlobalOptimizationOption</span><span class="p">(</span>
        <span class="n">max_correspondence_distance</span><span class="o">=</span><span class="n">max_correspondence_distance_fine</span><span class="p">,</span>
        <span class="n">edge_prune_threshold</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span>
        <span class="n">reference_node</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">global_optimization</span><span class="p">(</span>
        <span class="n">pose_graph</span><span class="p">,</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">GlobalOptimizationLevenbergMarquardt</span><span class="p">(),</span>
        <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">GlobalOptimizationConvergenceCriteria</span><span class="p">(),</span> <span class="n">option</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Transform points and display&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">point_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pcds_down</span><span class="p">)):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">pose</span><span class="p">)</span>
        <span class="n">pcds_down</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">pose</span><span class="p">)</span>
    <span class="n">o3d</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">draw_geometries</span><span class="p">(</span><span class="n">pcds_down</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Make a combined point cloud&quot;</span><span class="p">)</span>
    <span class="n">pcds</span> <span class="o">=</span> <span class="n">load_point_clouds</span><span class="p">(</span><span class="n">voxel_size</span><span class="p">)</span>
    <span class="n">pcd_combined</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">PointCloud</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">point_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pcds</span><span class="p">)):</span>
        <span class="n">pcds</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">pose</span><span class="p">)</span>
        <span class="n">pcd_combined</span> <span class="o">+=</span> <span class="n">pcds</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span>
    <span class="n">pcd_combined_down</span> <span class="o">=</span> <span class="n">pcd_combined</span><span class="o">.</span><span class="n">voxel_down_sample</span><span class="p">(</span><span class="n">voxel_size</span><span class="o">=</span><span class="n">voxel_size</span><span class="p">)</span>
    <span class="n">o3d</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">write_point_cloud</span><span class="p">(</span><span class="s2">&quot;multiway_registration.pcd&quot;</span><span class="p">,</span> <span class="n">pcd_combined_down</span><span class="p">)</span>
    <span class="n">o3d</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">draw_geometries</span><span class="p">([</span><span class="n">pcd_combined_down</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<div class="section" id="input">
<h2>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">load_point_clouds</span><span class="p">(</span><span class="n">voxel_size</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="n">pcds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">pcd</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_point_cloud</span><span class="p">(</span><span class="s2">&quot;../../TestData/ICP/cloud_bin_</span><span class="si">%d</span><span class="s2">.pcd&quot;</span> <span class="o">%</span> <span class="n">i</span><span class="p">)</span>
        <span class="n">pcd_down</span> <span class="o">=</span> <span class="n">pcd</span><span class="o">.</span><span class="n">voxel_down_sample</span><span class="p">(</span><span class="n">voxel_size</span><span class="o">=</span><span class="n">voxel_size</span><span class="p">)</span>
        <span class="n">pcds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pcd_down</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pcds</span>
</pre></div>
</td></tr></table></div>
<p>The first part of the tutorial script reads three point clouds from files. The point clouds are downsampled and visualized together. They are misaligned.</p>
<a class="reference internal image-reference" href="../../_images/initial.png"><img alt="../../_images/initial.png" src="../../_images/initial.png" style="width: 400px;" /></a>
<div class="highlight-python notranslate" id="build-a-posegraph"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">pairwise_registration</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Apply point-to-plane ICP&quot;</span><span class="p">)</span>
    <span class="n">icp_coarse</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">registration_icp</span><span class="p">(</span>
        <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">max_correspondence_distance_coarse</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
        <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">TransformationEstimationPointToPlane</span><span class="p">())</span>
    <span class="n">icp_fine</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">registration_icp</span><span class="p">(</span>
        <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">max_correspondence_distance_fine</span><span class="p">,</span>
        <span class="n">icp_coarse</span><span class="o">.</span><span class="n">transformation</span><span class="p">,</span>
        <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">TransformationEstimationPointToPlane</span><span class="p">())</span>
    <span class="n">transformation_icp</span> <span class="o">=</span> <span class="n">icp_fine</span><span class="o">.</span><span class="n">transformation</span>
    <span class="n">information_icp</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">get_information_matrix_from_point_clouds</span><span class="p">(</span>
        <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">max_correspondence_distance_fine</span><span class="p">,</span>
        <span class="n">icp_fine</span><span class="o">.</span><span class="n">transformation</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">transformation_icp</span><span class="p">,</span> <span class="n">information_icp</span>


<span class="k">def</span> <span class="nf">full_registration</span><span class="p">(</span><span class="n">pcds</span><span class="p">,</span> <span class="n">max_correspondence_distance_coarse</span><span class="p">,</span>
                      <span class="n">max_correspondence_distance_fine</span><span class="p">):</span>
    <span class="n">pose_graph</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraph</span><span class="p">()</span>
    <span class="n">odometry</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraphNode</span><span class="p">(</span><span class="n">odometry</span><span class="p">))</span>
    <span class="n">n_pcds</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pcds</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">source_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_pcds</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">target_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">source_id</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n_pcds</span><span class="p">):</span>
            <span class="n">transformation_icp</span><span class="p">,</span> <span class="n">information_icp</span> <span class="o">=</span> <span class="n">pairwise_registration</span><span class="p">(</span>
                <span class="n">pcds</span><span class="p">[</span><span class="n">source_id</span><span class="p">],</span> <span class="n">pcds</span><span class="p">[</span><span class="n">target_id</span><span class="p">])</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Build o3d.registration.PoseGraph&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">target_id</span> <span class="o">==</span> <span class="n">source_id</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># odometry case</span>
                <span class="n">odometry</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">transformation_icp</span><span class="p">,</span> <span class="n">odometry</span><span class="p">)</span>
                <span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraphNode</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">odometry</span><span class="p">)))</span>
                <span class="n">pose_graph</span><span class="o">.</span><span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraphEdge</span><span class="p">(</span><span class="n">source_id</span><span class="p">,</span>
                                                   <span class="n">target_id</span><span class="p">,</span>
                                                   <span class="n">transformation_icp</span><span class="p">,</span>
                                                   <span class="n">information_icp</span><span class="p">,</span>
                                                   <span class="n">uncertain</span><span class="o">=</span><span class="bp">False</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># loop closure case</span>
                <span class="n">pose_graph</span><span class="o">.</span><span class="n">edges</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">PoseGraphEdge</span><span class="p">(</span><span class="n">source_id</span><span class="p">,</span>
                                                   <span class="n">target_id</span><span class="p">,</span>
                                                   <span class="n">transformation_icp</span><span class="p">,</span>
                                                   <span class="n">information_icp</span><span class="p">,</span>
                                                   <span class="n">uncertain</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">pose_graph</span>
</pre></div>
</td></tr></table></div>
<p>A pose graph has two key elements: nodes and edges. A node is a piece of geometry <span class="math notranslate nohighlight">\(\mathbf{P}_{i}\)</span> associated with a pose matrix <span class="math notranslate nohighlight">\(\mathbf{T}_{i}\)</span> which transforms <span class="math notranslate nohighlight">\(\mathbf{P}_{i}\)</span> into the global space. The set <span class="math notranslate nohighlight">\(\{\mathbf{T}_{i}\}\)</span> are the unknown variables to be optimized. <code class="docutils literal notranslate"><span class="pre">PoseGraph.nodes</span></code> is a list of <code class="docutils literal notranslate"><span class="pre">PoseGraphNode</span></code>. We set the global space to be the space of <span class="math notranslate nohighlight">\(\mathbf{P}_{0}\)</span>. Thus <span class="math notranslate nohighlight">\(\mathbf{T}_{0}\)</span> is identity matrix. The other pose matrices are initialized by accumulating transformation between neighboring nodes. The neighboring nodes usually have large overlap and can be registered with <a class="reference internal" href="../Basic/icp_registration.html#point-to-plane-icp"><span class="std std-ref">Point-to-plane ICP</span></a>.</p>
<p>A pose graph edge connects two nodes (pieces of geometry) that overlap. Each edge contains a transformation matrix <span class="math notranslate nohighlight">\(\mathbf{T}_{i,j}\)</span> that aligns the source geometry <span class="math notranslate nohighlight">\(\mathbf{P}_{i}\)</span> to the target geometry <span class="math notranslate nohighlight">\(\mathbf{P}_{j}\)</span>. This tutorial uses <a class="reference internal" href="../Basic/icp_registration.html#point-to-plane-icp"><span class="std std-ref">Point-to-plane ICP</span></a> to estimate the transformation. In more complicated cases, this pairwise registration problem should be solved via <a class="reference internal" href="global_registration.html#global-registration"><span class="std std-ref">Global registration</span></a>.</p>
<p><a class="reference internal" href="../reference.html#choi2015" id="id3"><span>[Choi2015]</span></a> has observed that pairwise registration is error-prone. False pairwise alignments can outnumber correctly
aligned pairs. Thus, they partition pose graph edges into two classes. <strong>Odometry edges</strong> connect temporally close, neighboring nodes. A local registration algorithm such as ICP can reliably align them. <strong>Loop closure edges</strong> connect any non-neighboring nodes. The alignment is found by global registration and is less reliable. In Open3D, these two classes of edges are distinguished by the <code class="docutils literal notranslate"><span class="pre">uncertain</span></code> parameter in the initializer of <code class="docutils literal notranslate"><span class="pre">PoseGraphEdge</span></code>.</p>
<p>In addition to the transformation matrix <span class="math notranslate nohighlight">\(\mathbf{T}_{i}\)</span>, the user can set an information matrix <span class="math notranslate nohighlight">\(\mathbf{\Lambda}_{i}\)</span> for each edge. If <span class="math notranslate nohighlight">\(\mathbf{\Lambda}_{i}\)</span> is set using function <code class="docutils literal notranslate"><span class="pre">get_information_matrix_from_point_clouds</span></code>, the loss on this pose graph edge approximates the RMSE of the corresponding sets between the two nodes, with a line process weight. Refer to Eq (3) to (9) in <a class="reference internal" href="../reference.html#choi2015" id="id4"><span>[Choi2015]</span></a> and <a class="reference external" href="http://redwood-data.org/indoor/registration.html">the Redwood registration benchmark</a> for details.</p>
<p>The script creates a pose graph with three nodes and three edges. Among the edges, two of them are odometry edges (<code class="docutils literal notranslate"><span class="pre">uncertain</span> <span class="pre">=</span> <span class="pre">False</span></code>) and one is a loop closure edge (<code class="docutils literal notranslate"><span class="pre">uncertain</span> <span class="pre">=</span> <span class="pre">True</span></code>).</p>
<div class="highlight-python notranslate" id="optimize-a-posegraph"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>82
83
84
85
86
87
88
89</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Optimizing PoseGraph ...&quot;</span><span class="p">)</span>
    <span class="n">option</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">GlobalOptimizationOption</span><span class="p">(</span>
        <span class="n">max_correspondence_distance</span><span class="o">=</span><span class="n">max_correspondence_distance_fine</span><span class="p">,</span>
        <span class="n">edge_prune_threshold</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span>
        <span class="n">reference_node</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">global_optimization</span><span class="p">(</span>
        <span class="n">pose_graph</span><span class="p">,</span> <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">GlobalOptimizationLevenbergMarquardt</span><span class="p">(),</span>
        <span class="n">o3d</span><span class="o">.</span><span class="n">registration</span><span class="o">.</span><span class="n">GlobalOptimizationConvergenceCriteria</span><span class="p">(),</span> <span class="n">option</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Open3D uses function <code class="docutils literal notranslate"><span class="pre">global_optimization</span></code> to perform pose graph optimization. Two types of optimization methods can be chosen: <code class="docutils literal notranslate"><span class="pre">GlobalOptimizationGaussNewton</span></code> or <code class="docutils literal notranslate"><span class="pre">GlobalOptimizationLevenbergMarquardt</span></code>. The latter is recommended since it has better convergence property. Class <code class="docutils literal notranslate"><span class="pre">GlobalOptimizationConvergenceCriteria</span></code> can be used to set the maximum number of iterations and various optimization parameters.</p>
<p>Class <code class="docutils literal notranslate"><span class="pre">GlobalOptimizationOption</span></code> defines a couple of options. <code class="docutils literal notranslate"><span class="pre">max_correspondence_distance</span></code> decides the correspondence threshold. <code class="docutils literal notranslate"><span class="pre">edge_prune_threshold</span></code> is a threshold for pruning outlier edges. <code class="docutils literal notranslate"><span class="pre">reference_node</span></code> is the node id that is considered to be the global space.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>Optimizing PoseGraph ...
<span class="o">[</span>GlobalOptimizationLM<span class="o">]</span> Optimizing PoseGraph having <span class="m">3</span> nodes and <span class="m">3</span> edges.
Line process weight : <span class="m">3</span>.745800
<span class="o">[</span>Initial     <span class="o">]</span> residual : <span class="m">6</span>.741225e+00, lambda : <span class="m">6</span>.042803e-01
<span class="o">[</span>Iteration <span class="m">00</span><span class="o">]</span> residual : <span class="m">1</span>.791471e+00, valid edges : <span class="m">3</span>, <span class="nb">time</span> : <span class="m">0</span>.000 sec.
<span class="o">[</span>Iteration <span class="m">01</span><span class="o">]</span> residual : <span class="m">5</span>.133682e-01, valid edges : <span class="m">3</span>, <span class="nb">time</span> : <span class="m">0</span>.000 sec.
<span class="o">[</span>Iteration <span class="m">02</span><span class="o">]</span> residual : <span class="m">4</span>.412544e-01, valid edges : <span class="m">3</span>, <span class="nb">time</span> : <span class="m">0</span>.000 sec.
<span class="o">[</span>Iteration <span class="m">03</span><span class="o">]</span> residual : <span class="m">4</span>.408356e-01, valid edges : <span class="m">3</span>, <span class="nb">time</span> : <span class="m">0</span>.000 sec.
<span class="o">[</span>Iteration <span class="m">04</span><span class="o">]</span> residual : <span class="m">4</span>.408342e-01, valid edges : <span class="m">3</span>, <span class="nb">time</span> : <span class="m">0</span>.000 sec.
Delta.norm<span class="o">()</span> &lt; <span class="m">1</span>.000000e-06 * <span class="o">(</span>x.norm<span class="o">()</span> + <span class="m">1</span>.000000e-06<span class="o">)</span>
<span class="o">[</span>GlobalOptimizationLM<span class="o">]</span> total <span class="nb">time</span> : <span class="m">0</span>.000 sec.
<span class="o">[</span>GlobalOptimizationLM<span class="o">]</span> Optimizing PoseGraph having <span class="m">3</span> nodes and <span class="m">3</span> edges.
Line process weight : <span class="m">3</span>.745800
<span class="o">[</span>Initial     <span class="o">]</span> residual : <span class="m">4</span>.408342e-01, lambda : <span class="m">6</span>.064910e-01
Delta.norm<span class="o">()</span> &lt; <span class="m">1</span>.000000e-06 * <span class="o">(</span>x.norm<span class="o">()</span> + <span class="m">1</span>.000000e-06<span class="o">)</span>
<span class="o">[</span>GlobalOptimizationLM<span class="o">]</span> total <span class="nb">time</span> : <span class="m">0</span>.000 sec.
CompensateReferencePoseGraphNode : reference : <span class="m">0</span>
</pre></div>
</div>
<p>The global optimization performs twice on the pose graph. The first pass optimizes poses for the original pose graph taking all edges into account and does its best to distinguish false alignments among uncertain edges. These false alignments have small line process weights, and they are pruned after the first pass. The second pass runs without them and produces a tight global alignment. In this example, all the edges are considered as true alignments, hence the second pass terminates immediately.</p>
</div>
<div class="section" id="visualize-optimization">
<span id="id5"></span><h2>Visualize optimization<a class="headerlink" href="#visualize-optimization" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>91
92
93
94
95</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Transform points and display&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">point_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pcds_down</span><span class="p">)):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">pose</span><span class="p">)</span>
        <span class="n">pcds_down</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">pose</span><span class="p">)</span>
    <span class="n">o3d</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">draw_geometries</span><span class="p">(</span><span class="n">pcds_down</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Ouputs:</p>
<a class="reference internal image-reference" href="../../_images/optimized.png"><img alt="../../_images/optimized.png" src="../../_images/optimized.png" style="width: 400px;" /></a>
<p>The transformed point clouds are listed and visualized using <code class="docutils literal notranslate"><span class="pre">draw_geometries</span></code>.</p>
</div>
<div class="section" id="make-a-combined-point-cloud">
<span id="id6"></span><h2>Make a combined point cloud<a class="headerlink" href="#make-a-combined-point-cloud" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 97
 98
 99
100
101
102
103
104
105</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Make a combined point cloud&quot;</span><span class="p">)</span>
    <span class="n">pcds</span> <span class="o">=</span> <span class="n">load_point_clouds</span><span class="p">(</span><span class="n">voxel_size</span><span class="p">)</span>
    <span class="n">pcd_combined</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">PointCloud</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">point_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pcds</span><span class="p">)):</span>
        <span class="n">pcds</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">pose_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span><span class="o">.</span><span class="n">pose</span><span class="p">)</span>
        <span class="n">pcd_combined</span> <span class="o">+=</span> <span class="n">pcds</span><span class="p">[</span><span class="n">point_id</span><span class="p">]</span>
    <span class="n">pcd_combined_down</span> <span class="o">=</span> <span class="n">pcd_combined</span><span class="o">.</span><span class="n">voxel_down_sample</span><span class="p">(</span><span class="n">voxel_size</span><span class="o">=</span><span class="n">voxel_size</span><span class="p">)</span>
    <span class="n">o3d</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">write_point_cloud</span><span class="p">(</span><span class="s2">&quot;multiway_registration.pcd&quot;</span><span class="p">,</span> <span class="n">pcd_combined_down</span><span class="p">)</span>
    <span class="n">o3d</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">draw_geometries</span><span class="p">([</span><span class="n">pcd_combined_down</span><span class="p">])</span>
</pre></div>
</td></tr></table></div>
<a class="reference internal image-reference" href="../../_images/combined.png"><img alt="../../_images/combined.png" src="../../_images/combined.png" style="width: 400px;" /></a>
<p><code class="docutils literal notranslate"><span class="pre">PointCloud</span></code> has convenient operator <code class="docutils literal notranslate"><span class="pre">+</span></code> that can merge two point clouds into single one.
After merging, the points are uniformly resampled using <code class="docutils literal notranslate"><span class="pre">voxel_down_sample</span></code>.
This is recommended post-processing after merging point cloud since this can relieve duplicating or over-densified points.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although this tutorial demonstrates multiway registration for point clouds. The same procedure can be applied to RGBD images. See <a class="reference internal" href="../ReconstructionSystem/make_fragments.html#reconstruction-system-make-fragments"><span class="std std-ref">Make fragments</span></a> for an example.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rgbd_integration.html" class="btn btn-neutral float-right" title="RGBD integration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="fast_global_registration.html" class="btn btn-neutral float-left" title="Fast global registration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018 - 2019, www.open3d.org

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
<span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Docs version</span>
    latest (cf20af6)
    <span class="fa fa-caret-down"></span>
</span>

<!-- A hack to include an external page to get around CORS policy -->
<!-- https://stackoverflow.com/a/15250208/1255535 -->
<div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
        <dd><ul>
            <script src="http://www.open3d.org/docs/versions.js"></script>
        </ul></dd>
    </dl>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>